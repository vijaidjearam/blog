---
layout: post
date: 2025-12-12 09:07:00
title: Enable DHCP on S7-1500
category: tia-portal
tags: tia-portal windows siemens
---
 

# To set a **Siemens S7-1500 CPU** to obtain its **IP address from DHCP**, follow these steps in **TIA Portal**:



## âœ… **Enable DHCP on S7-1500**

### **1\. Open your project in TIA Portal**

-   Go to **Devices & networks** (or double-click the CPU).
    

### **2\. Select the CPU**

-   In the project tree, click on **CPU â†’ Properties**.
    

### **3\. Go to PROFINET interface settings**

-   Under **Properties**, open:  
    **â†’ PROFINET interface \[X1\]**  
    **â†’ Ethernet addresses**
    

### **4\. Change IP assignment mode**

-   Find **IP protocol â†’ Assignment method**.
    
-   Select:
    

### **â–¶ â€œObtain IP address automatically (DHCP)â€**

Other options in that menu:

-   **Use static IP address**
    
-   **Set IP via BOOTP**
    
-   **Set IP via DCP**
    
-   **Obtain IP via DHCP** â† choose this
    

### **5\. (Optional) Specify hostname for DHCP**

Some DHCP servers assign IP based on hostname.  
Under the same settings you can enter:

-   **Device name (PROFINET name)**
    
-   **Hostname**
    

### **6\. Download hardware configuration to the PLC**

-   Click **Download to device**.
    
-   After reboot, the CPU will request its IP from the DHCP server.
    

---

## ğŸ“Œ **Confirm DHCP operation**

You can verify:

-   On the **diagnostic buffer** of the CPU
    
-   On your DHCP server (it should list the PLC lease)
    
-   In TIA Portal online view â†’ Interface details
    

---

## ğŸ“ Notes

-   The CPU must be on a network with a DHCP server (router or Windows DHCP).
    
-   Avoid mixing PROFINET device name settings with static IP unless needed.
    
-   Safety CPUs behave the same but require a password to download.
    

---

# **To set DHCP directly on the S7-1500 CPU itself** using the **front display (the built-in HMI on the CPU)**, without TIA Portal.

Here is how:

---

# âœ… **Enable DHCP directly on the S7-1500 front display**

### **1\. Press the â€œOKâ€ button** on the CPU to open the local menu.

### **2\. Navigate to:**

**Settings â†’ Interfaces â†’ PROFINET / Ethernet â†’ IP configuration**

Depending on firmware, the menu names may be slightly different:

-   **IP configuration**
    
-   **Address assignment**
    
-   **IP settings**
    

### **3\. Change â€œIP assignmentâ€**

You will see options such as:

-   **Static**
    
-   **BOOTP**
    
-   **DCP**
    
-   **DHCP**
    

ğŸ‘‰ Select **DHCP**.

### **4\. Save & Reboot**

The CPU usually asks to confirm.  
After confirmation, it will restart the interface and request an IP from your DHCP server.

---

# âœ” Notes

-   The CPUâ€™s display allows changing **IP**, **subnet**, **gateway**, and **assignment method**.
    
-   If the PLC is password-protected for access level, you may need to enter the authorization level.
    
-   After switching to DHCP, the CPU will lose its old static IP, so make sure you know how to find it in your DHCP server or network scanner.
    

---

# **â€œIP settings are write-protectedâ€**, it means the CPU has a protection level or a configuration setting that prevents changing network parameters from the front display.

Here are the **common causes and how to fix them**:

---

# âœ… 1. Protection level blocks changes

If the CPU is set to *â€œFull access (password protected)â€* or *â€œRead access onlyâ€*, you cannot change IP settings on the display.

### **Fix**

Connect with **TIA Portal** â†’ go to:

**Device â†’ Protection & Security â†’ Access level**

Set one of these:

-   **Full access (no protection)**  
    or
    
-   **Full access (password protected)** â†’ enter password when asked on device
    

Then download the hardware configuration again.

---

# âœ… 2. â€œWrite protectionâ€ enabled in TIA Portal

In TIA Portal, under the PLC properties there is a setting that disables local changes.

Check:

**Properties â†’ General â†’ Operating mode â†’ Prevent local changes**  
(or similar depending on version)

If **â€œIP address write-protectedâ€** or **â€œAllow local configuration: Noâ€** is active â†’ you must disable it.

---

# âœ… 3. CPU memory card (SIMATIC Memory Card) contains locked settings

Some projects enforce IP settings through the memory card.  
In that case the CPU restores the IP from the card and blocks display changes.

### **Fix**

Either:

-   Remove the memory card â†’ reboot â†’ change IP â†’ insert again  
    or
    
-   Change IP settings in TIA Portal â†’ download to the CPU â†’ card gets updated
    

---

# âœ… 4. The interface is part of a PROFINET system where the IP is assigned by the device name

If the PLC is inside a PROFINET IO system, its IP may be **controlled by DCP/PNIO**, not manually.

Symptoms:

-   You cannot change the IP because it is bound to the PROFINET device name.
    

### **Fix**

In TIA Portal:

-   Go to **Devices & networks â†’ CPU â†’ PROFINET interface**
    
-   Look for **â€œIP assigned by IO controllerâ€** or **â€œUse device name assignmentâ€**
    
-   Disable it if you need manual IP control
    

---

# ğŸ‘‰ What you can try immediately on the device

1.  Go to **Display â†’ Settings â†’ Access level**
    
2.  If it asks for a password, enter the CPU protection password
    
3.  Try again to change the IP settings
    

If you donâ€™t know the password, only TIA Portal download can change it.

---
